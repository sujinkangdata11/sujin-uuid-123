<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>이모지·이모티콘 모음 - 무료 아이폰·안드로이드 키보드이모지</title>
    
    <!-- PWA 메타태그 -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="이모지 · 이모티콘 모음 - 아이폰 이모지 · 키보드이모지">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#007bff">
    
    <!-- 파비콘 -->
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="shortcut icon" href="/favicon.png">
    <link rel="apple-touch-icon" href="/favicon.png">
    
    <meta name="description" content="이모티콘 · 이모지 모음 ·  사람 이모지 ·  키보드 이모지 ·  사랑 이모지 ·  여행 이모지 · 인스타 이모지 · 틱톡 이모지 ·  3000개 이상의 이모지를 카테고리별로 찾아 클릭 한 번에 복사하세요. SNS·메신저에서 바로 사용할 수 있는 무료 온라인 이모지 키보드">
    <meta name="keywords" content="이모지, 이모티콘, 이모지복사, 복사이모지, 이모지키보드, 키보드이모지, 이모티콘모음, 아이폰이모지, 안드로이드이모지, 이모지아이폰, 이모지안드로이드, 틱톡이모지, 인스타이모지, 유튜브이모지, SNS이모지">
    <meta name="author" content="이모지 · 이모티콘 모음 - 아이폰 이모지 · 키보드이모지">
    <meta property="og:title" content="이모지 · 이모티콘 모음 - 아이폰 이모지 · 키보드이모지">
    <meta property="og:description" content="이모티콘 · 이모지 모음 ·  사람 이모지 ·  키보드 이모지 ·  사랑 이모지 ·  여행 이모지 · 인스타 이모지 · 틱톡 이모지 ·  3000개 이상의 이모지를 카테고리별로 찾아 클릭 한 번에 복사하세요. SNS·메신저에서 바로 사용할 수 있는 무료 온라인 이모지 키보드">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://sns-emojicopy.com">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://sns-emojicopy.com">
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "이모지 · 이모티콘 모음 - 아이폰 이모지 · 키보드이모지",
      "description": "이모티콘 · 이모지 모음 ·  사람 이모지 ·  키보드 이모지 ·  사랑 이모지 ·  여행 이모지 · 인스타 이모지 · 틱톡 이모지 ·  3000개 이상의 이모지를 카테고리별로 찾아 클릭 한 번에 복사하세요. SNS·메신저에서 바로 사용할 수 있는 무료 온라인 이모지 키보드",
      "url": "https://sns-emojicopy.com",
      "applicationCategory": "Utility",
      "operatingSystem": "Any",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      }
    }
    </script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --vh: 1vh;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background-color: #f5f5f5;
            color: #333;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            /* 모바일에서 텍스트 크기 자동 조정 방지 */
            -webkit-text-size-adjust: 100%;
            -ms-text-size-adjust: 100%;
        }

        .header {
            background: white;
            padding: 12px 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }

        .lang-selector {
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 8px 12px;
            cursor: pointer;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 10px 20px;
        }

        .ad-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 120px;
            margin: 10px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 20px;
        }

        .emoji-section {
            background: white;
            border-radius: 8px;
            padding: 30px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }

        .search-box {
            width: 100%;
            padding: 15px 20px;
            font-size: 18px;
            border: 2px solid #e9ecef;
            border-radius: 25px;
            outline: none;
            margin-bottom: 30px;
            transition: border-color 0.3s ease;
        }
        
        .search-box::placeholder {
            font-size: 18px;
        }

        .search-box:hover {
            background: #e9ecef;
        }

        .search-box:focus {
            border-color: #007bff;
            background: white;
        }

        .emoji-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(60px, 1fr));
            gap: 12px;
            margin-bottom: 20px;
        }

        .emoji-item {
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 34px;
            cursor: pointer;
            border-radius: 10px;
            transition: all 0.2s ease;
            background: #f8f9fa;
        }

        .emoji-item:hover {
            background: #e9ecef;
            transform: scale(1.3);
        }

        .emoji-item:active {
            transform: scale(0.95);
        }

        /* iOS에서 터치시 회색 하이라이트 방지 */
        .emoji-item, .tab, .copy-all-btn, .clear-btn {
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            -webkit-user-select: none;
            -khtml-user-select: none;
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        /* 검색 박스 iOS 스타일링 개선 */
        .search-box {
            -webkit-appearance: none;
            -moz-appearance: none;
            appearance: none;
            border-radius: 25px;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .ad-sidebar {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            height: 400px;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            writing-mode: vertical-rl;
            text-orientation: mixed;
        }

        .category-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .tab {
            padding: 10px 18px;
            background: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            font-weight: 500;
        }

        .tab.active {
            background: #007bff;
            color: white;
            border-color: #007bff;
            font-weight: 700;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active:hover {
            background: #0056b3;
        }

        .copy-notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #28a745;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transform: translateX(400px);
            transition: transform 0.3s ease;
            z-index: 1000;
        }

        .floating-emoji-box {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            border: 2px solid #007bff;
            border-radius: 12px;
            padding: 15px 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
            display: flex;
            align-items: center;
            gap: 15px;
            min-width: 700px;
            z-index: 1000;
        }

        .emoji-collector {
            flex: 1;
            padding: 10px 15px;
            font-size: 16px;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            background: #f8f9fa;
            min-height: 50px;
            line-height: 1.4;
            word-wrap: break-word;
            overflow-wrap: break-word;
            color: #666;
        }

        .emoji-collector:not(:empty):not([data-placeholder]) {
            font-size: 24px;
            color: #333;
        }

        .copy-all-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            white-space: nowrap;
        }

        .copy-all-btn:hover {
            background: #0056b3;
        }

        .clear-btn {
            background: #dc3545;
            color: white;
            border: none;
            padding: 12px 20px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.3s ease;
            white-space: nowrap;
        }

        .clear-btn:hover {
            background: #c82333;
        }

        .copy-notification.show {
            transform: translateX(0);
        }

        .bottom-ad {
            background: linear-gradient(90deg, #a8edea 0%, #fed6e3 100%);
            height: 100px;
            margin: 20px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #333;
            font-weight: bold;
        }

        .category-divider {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            height: 120px;
            margin: 30px 0;
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 18px;
            font-weight: bold;
            grid-column: 1 / -1;
        }


        @media (max-width: 768px) {
            .container {
                padding: 5px 10px;
            }
            
            .header {
                padding: 8px 15px;
            }
            
            .logo {
                font-size: 20px;
            }
            
            .main-content {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .emoji-section {
                padding: 20px 15px;
            }
            
            .search-box {
                padding: 12px 15px;
                font-size: 16px;
                margin-bottom: 20px;
            }
            
            .search-box::placeholder {
                font-size: 16px;
            }
            
            .category-tabs {
                gap: 6px;
                margin-bottom: 15px;
            }
            
            .tab {
                padding: 8px 12px;
                font-size: 14px;
                border-radius: 15px;
            }
            
            .emoji-grid {
                grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
                gap: 8px;
            }
            
            .emoji-item {
                width: 50px;
                height: 50px;
                font-size: 28px;
                border-radius: 8px;
            }
            
            .emoji-item:hover {
                transform: scale(1.2);
            }
            
            .ad-banner, .category-divider {
                height: 80px;
                font-size: 14px;
                margin: 15px 0;
            }
            
            .ad-sidebar {
                height: 120px;
                writing-mode: horizontal-tb;
                text-orientation: mixed;
                order: -1;
            }
            
            .bottom-ad {
                height: 80px;
                font-size: 14px;
            }
            
            .floating-emoji-box {
                position: fixed;
                bottom: 10px;
                left: 10px;
                right: 10px;
                transform: none;
                min-width: auto;
                flex-direction: row;
                flex-wrap: wrap;
                gap: 8px;
                padding: 10px;
            }
            
            .emoji-collector {
                flex: 1 1 100%;
                order: 1;
                min-height: 35px;
                font-size: 14px;
                padding: 8px 12px;
                margin-bottom: 5px;
            }
            
            .emoji-collector:not(:empty):not([data-placeholder]) {
                font-size: 18px;
            }
            
            .copy-all-btn {
                flex: 1 1 calc(60% - 4px);
                order: 2;
                padding: 8px 12px;
                font-size: 14px;
            }
            
            .clear-btn {
                flex: 1 1 calc(40% - 4px);
                order: 3;
                padding: 8px 12px;
                font-size: 14px;
            }
            
            .copy-notification {
                top: 10px;
                right: 10px;
                left: 10px;
                transform: translateY(-100px);
                text-align: center;
                font-size: 14px;
                padding: 10px 15px;
            }
            
            .copy-notification.show {
                transform: translateY(0);
            }
        }

        @media (max-width: 480px) {
            .container {
                padding: 5px;
            }
            
            .emoji-section {
                padding: 15px 10px;
            }
            
            .search-box {
                padding: 10px 12px;
                font-size: 15px;
            }
            
            .category-tabs {
                gap: 4px;
            }
            
            .tab {
                padding: 6px 10px;
                font-size: 13px;
                border-radius: 12px;
            }
            
            .emoji-grid {
                grid-template-columns: repeat(auto-fill, minmax(45px, 1fr));
                gap: 6px;
            }
            
            .emoji-item {
                width: 45px;
                height: 45px;
                font-size: 24px;
            }
            
            .floating-emoji-box {
                bottom: 5px;
                left: 5px;
                right: 5px;
                padding: 8px;
                gap: 6px;
            }
            
            .emoji-collector {
                min-height: 32px;
                font-size: 13px;
                padding: 6px 10px;
                margin-bottom: 3px;
            }
            
            .emoji-collector:not(:empty):not([data-placeholder]) {
                font-size: 16px;
            }
            
            .copy-all-btn {
                flex: 1 1 calc(65% - 3px);
                padding: 7px 10px;
                font-size: 13px;
            }
            
            .clear-btn {
                flex: 1 1 calc(35% - 3px);
                padding: 7px 10px;
                font-size: 13px;
            }
        }

        @media (max-width: 360px) {
            .emoji-grid {
                grid-template-columns: repeat(auto-fill, minmax(40px, 1fr));
                gap: 4px;
            }
            
            .emoji-item {
                width: 40px;
                height: 40px;
                font-size: 22px;
            }
            
            .tab {
                padding: 5px 8px;
                font-size: 12px;
            }
            
            .floating-emoji-box {
                padding: 6px;
                gap: 4px;
            }
            
            .emoji-collector {
                min-height: 28px;
                font-size: 12px;
                padding: 5px 8px;
                margin-bottom: 2px;
            }
            
            .emoji-collector:not(:empty):not([data-placeholder]) {
                font-size: 14px;
            }
            
            .copy-all-btn {
                flex: 1 1 calc(70% - 2px);
                padding: 6px 8px;
                font-size: 12px;
            }
            
            .clear-btn {
                flex: 1 1 calc(30% - 2px);
                padding: 6px 8px;
                font-size: 12px;
            }
        }

        /* 터치 디바이스 최적화 */
        @media (hover: none) and (pointer: coarse) {
            .emoji-item {
                transition: all 0.1s ease;
            }
            
            .emoji-item:hover {
                transform: none;
                background: #e9ecef;
            }
            
            .emoji-item:active {
                transform: scale(0.9);
                background: #dee2e6;
            }
            
            .tab:hover {
                background: #f8f9fa;
            }
            
            .tab.active:hover {
                background: #007bff;
            }
        }
    </style>
</head>
<body>
    <header class="header">
        <div class="logo">이모지 · 이모티콘 모음 - 아이폰 이모지 · 키보드이모지</div>
    </header>

    <div class="container">
        <!-- 상단 광고 -->
        <div class="ad-banner">
            광고 영역 - 상단 배너
        </div>

        <div class="main-content">
            <div class="emoji-section">
                <input type="text" class="search-box" placeholder="검색..." id="searchInput">
                
                <div class="category-tabs">
                    <!-- 사용자가 이해하기 쉽도록 카테고리를 재구성했습니다. -->
                    <div class="tab active" data-category="all">전체</div>
                    <div class="tab" data-category="people">사람·표정</div>
                    <div class="tab" data-category="hands">손</div>
                    <div class="tab" data-category="races">인종</div>
                    <div class="tab" data-category="jobs">직업</div>
                    <div class="tab" data-category="love">사랑</div>
                    <div class="tab" data-category="nature">동물·자연</div>
                    <div class="tab" data-category="food">음식·음료</div>
                    <div class="tab" data-category="activities">활동</div>
                    <div class="tab" data-category="travel">여행·장소</div>
                    <div class="tab" data-category="objects">사물</div>
                    <div class="tab" data-category="symbols">기호</div>
                    <div class="tab" data-category="flags">국기</div>
                </div>

                <div class="emoji-grid" id="emojiGrid">
                    <!-- 이모지들이 여기에 동적으로 추가됩니다 -->
                </div>

                <!-- 하단 광고 -->
                <div class="bottom-ad">
                    광고 영역 - 하단 배너
                </div>
            </div>

            <div class="sidebar">
                <div class="ad-sidebar">
                    광고 영역
                </div>
            </div>
        </div>
    </div>

    <!-- 복사 알림 -->
    <div class="copy-notification" id="copyNotification">
        <!-- 자바스크립트로 내용이 채워집니다 -->
    </div>

    <!-- 플로팅 이모지 수집 박스 -->
    <div class="floating-emoji-box">
        <div class="emoji-collector" id="emojiCollector" contenteditable="false" data-placeholder="true">이모지를 클릭하세요</div>
        <button class="copy-all-btn" id="copyAllBtn">전체 복사</button>
        <button class="clear-btn" id="clearBtn">지우기</button>
    </div>

    <script src="emoji-data.js"></script>

    <script>
        // 이모지 데이터 (now loaded from external emoji-data.js)
        var emojiData = window.emojiData || {};

        let currentCategory = 'all';
        let allEmojis = [];
        let notificationTimer;

        // 모든 이모지를 하나의 배열로 합치기
        function getAllEmojis() {
            const all = [];
            for (const category in emojiData) {
                all.push(...emojiData[category]);
            }
            return all;
        }

        // 이모지 그리드 렌더링
        function renderEmojis(emojis, showDividers = false) {
            const grid = document.getElementById('emojiGrid');
            grid.innerHTML = '';
            
            if (showDividers && currentCategory === 'all') {
                renderAllCategoriesWithDividers();
            } else {
                emojis.forEach(emoji => {
                    const item = document.createElement('div');
                    item.className = 'emoji-item';
                    item.textContent = emoji;
                    item.onclick = () => copyEmoji(emoji);
                    grid.appendChild(item);
                });
            }
        }

        // 전체 카테고리를 구분자와 함께 렌더링
        function renderAllCategoriesWithDividers() {
            const grid = document.getElementById('emojiGrid');
            const categoryNames = {
                'people': '사람·표정',
                'hands': '손',
                'races': '인종',
                'jobs': '직업',
                'love': '사랑',
                'nature': '동물·자연',
                'food': '음식·음료',
                'activities': '활동',
                'travel': '여행·장소',
                'objects': '사물',
                'symbols': '기호',
                'flags': '국기'
            };

            let isFirst = true;
            for (const category in emojiData) {
                // 첫 번째 카테고리가 아닌 경우 구분자 추가
                if (!isFirst) {
                    const divider = document.createElement('div');
                    divider.className = 'category-divider';
                    divider.textContent = `광고 영역 - ${categoryNames[category] || category} 섹션`;
                    grid.appendChild(divider);
                }
                isFirst = false;

                // 해당 카테고리의 이모지들 추가
                emojiData[category].forEach(emoji => {
                    const item = document.createElement('div');
                    item.className = 'emoji-item';
                    item.textContent = emoji;
                    item.onclick = () => copyEmoji(emoji);
                    grid.appendChild(item);
                });
            }
        }

        // 이모지 복사 함수
        function copyEmoji(emoji) {
            // 터치 피드백 추가
            if (navigator.vibrate) {
                navigator.vibrate(50);
            }
            
            navigator.clipboard.writeText(emoji).then(() => {
                showCopyNotification(emoji);
                addToCollector(emoji);
            }).catch(() => {
                // 클립보드 API가 실패한 경우 대체 방법
                fallbackCopyTextToClipboard(emoji);
                showCopyNotification(emoji);
                addToCollector(emoji);
            });
        }

        // 클립보드 복사 대체 함수 (HTTPS가 아닌 환경에서)
        function fallbackCopyTextToClipboard(text) {
            const textArea = document.createElement("textarea");
            textArea.value = text;
            textArea.style.top = "0";
            textArea.style.left = "0";
            textArea.style.position = "fixed";
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            try {
                document.execCommand('copy');
            } catch (err) {
                console.error('Fallback: 복사 실패', err);
            }
            
            document.body.removeChild(textArea);
        }

        // 플로팅 박스에 이모지 추가
        function addToCollector(emoji) {
            const collector = document.getElementById('emojiCollector');
            if (collector.hasAttribute('data-placeholder')) {
                collector.textContent = emoji;
                collector.removeAttribute('data-placeholder');
            } else {
                collector.textContent += emoji;
            }
        }

        // 복사 알림 표시
        function showCopyNotification(copiedEmoji) {
            const notification = document.getElementById('copyNotification');
            notification.textContent = `이모지가 복사되었습니다! ${copiedEmoji}`;
            notification.classList.add('show');
            
            if (notificationTimer) {
                clearTimeout(notificationTimer);
            }

            notificationTimer = setTimeout(() => {
                notification.classList.remove('show');
            }, 2000);
        }

        // 카테고리 탭 클릭 이벤트
        document.querySelectorAll('.tab').forEach(tab => {
            tab.addEventListener('click', () => {
                // 활성 탭 변경
                document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
                tab.classList.add('active');
                
                // 카테고리 변경
                currentCategory = tab.dataset.category;
                
                if (currentCategory === 'all') {
                    renderEmojis(allEmojis, true); // 구분자와 함께 렌더링
                } else {
                    renderEmojis(emojiData[currentCategory] || []);
                }
            });
        });

        // 검색 기능
        document.getElementById('searchInput').addEventListener('input', (e) => {
            const searchTerm = e.target.value.toLowerCase();
            
            if (!searchTerm) {
                if (currentCategory === 'all') {
                    renderEmojis(allEmojis, true); // 구분자와 함께 렌더링
                } else {
                    renderEmojis(emojiData[currentCategory] || []);
                }
                return;
            }

            // 이모지 검색을 위한 키워드 매핑 (external emoji-data.js에서 로드)
            const emojiKeywords = window.emojiKeywords || {};

            let searchResults = [];
            
            for (const emoji of allEmojis) {
                const keywords = emojiKeywords[emoji] || [];
                if (keywords.some(keyword => keyword.includes(searchTerm))) {
                    searchResults.push(emoji);
                }
            }
            
            renderEmojis(searchResults);
        });

        // 전체 복사 기능
        document.getElementById('copyAllBtn').addEventListener('click', () => {
            const collector = document.getElementById('emojiCollector');
            const allEmojisText = collector.textContent;
            if (allEmojisText && allEmojisText !== '이모지를 클릭하세요') {
                // 터치 피드백
                if (navigator.vibrate) {
                    navigator.vibrate([100, 50, 100]);
                }
                
                navigator.clipboard.writeText(allEmojisText).then(() => {
                    showCopyNotification(`복사완료! ${allEmojisText}`);
                }).catch(() => {
                    fallbackCopyTextToClipboard(allEmojisText);
                    showCopyNotification(`복사완료! ${allEmojisText}`);
                });
            }
        });

        // 지우기 기능
        document.getElementById('clearBtn').addEventListener('click', () => {
            const collector = document.getElementById('emojiCollector');
            collector.textContent = '이모지를 클릭하세요';
            collector.setAttribute('data-placeholder', 'true');
        });

        // 터치 시작 및 스크롤 방지 (이모지 아이템에서)
        let touchStartY = 0;
        let isScrolling = false;

        document.addEventListener('touchstart', (e) => {
            if (e.target.classList.contains('emoji-item')) {
                touchStartY = e.touches[0].clientY;
                isScrolling = false;
            }
        }, { passive: false });

        document.addEventListener('touchmove', (e) => {
            if (e.target.classList.contains('emoji-item')) {
                const touchY = e.touches[0].clientY;
                const deltaY = Math.abs(touchY - touchStartY);
                
                if (deltaY > 10) {
                    isScrolling = true;
                }
            }
        }, { passive: false });

        document.addEventListener('touchend', (e) => {
            if (e.target.classList.contains('emoji-item') && !isScrolling) {
                e.preventDefault();
                const emoji = e.target.textContent;
                copyEmoji(emoji);
            }
        }, { passive: false });

        // 모바일에서 더블탭 줌 방지
        let lastTouchEnd = 0;
        document.addEventListener('touchend', (e) => {
            const now = new Date().getTime();
            if (now - lastTouchEnd <= 300) {
                e.preventDefault();
            }
            lastTouchEnd = now;
        }, false);

        // iOS Safari에서 바운스 스크롤 방지 (필요한 영역에서만)
        document.addEventListener('touchmove', (e) => {
            if (e.target.closest('.floating-emoji-box') && 
                !e.target.closest('.emoji-collector')) {
                e.preventDefault();
            }
        }, { passive: false });

        // 화면 회전 감지 및 레이아웃 재조정
        window.addEventListener('orientationchange', () => {
            setTimeout(() => {
                // 화면 회전 후 레이아웃 재계산
                if (currentCategory === 'all') {
                    renderEmojis(allEmojis, true);
                } else {
                    renderEmojis(emojiData[currentCategory] || []);
                }
            }, 500);
        });

        // 뷰포트 높이 조정 (모바일 브라우저 주소창 대응)
        function setViewportHeight() {
            const vh = window.innerHeight * 0.01;
            document.documentElement.style.setProperty('--vh', `${vh}px`);
        }
        
        setViewportHeight();
        window.addEventListener('resize', setViewportHeight);

        // 초기화
        allEmojis = getAllEmojis();
        renderEmojis(allEmojis, true); // 초기 로딩 시 구분자와 함께 렌더링
    </script>
</body>
</html>